<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ù…ØµØ­Ù Ø§Ù„Ù†ÙˆØ± Ø§Ù„Ø¥Ø³Ø·ÙˆØ±ÙŠØ© - Ù†Ø³Ø®Ø© Ø§Ù„Ù†Ø®Ø¨Ø©</title>
    <style>
        :root {
            --gold: #d4af37;
            --emerald: #052205;
            --glass: rgba(0, 0, 0, 0.88);
            --glow: 0 0 25px rgba(212, 175, 55, 0.6);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background: #000;
            font-family: 'Segoe UI', Tahoma, sans-serif; color: white;
        }

        /* Ù…Ø­Ø±Ùƒ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¬Ù…ÙŠØ© Ø§Ù„Ù…ØªØ·ÙˆØ± */
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -5; }
        .gradient-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, transparent, #000 90%);
            z-index: -4;
        }

        /* Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© Ù…Ù† Ø§Ù„Ø¹Ø¯Ù… */
        .floating-text {
            position: absolute; color: rgba(212, 175, 55, 0.15);
            font-size: 2.2rem; white-space: nowrap; pointer-events: none;
            animation: floatMove 35s linear infinite; z-index: -2;
            text-shadow: var(--glow); font-weight: bold;
        }

        @keyframes floatMove {
            0% { transform: translateY(110vh) scale(0.7); opacity: 0; filter: blur(5px); }
            15% { opacity: 1; filter: blur(0px); }
            85% { opacity: 1; filter: blur(0px); }
            100% { transform: translateY(-20vh) scale(1.2); opacity: 0; filter: blur(8px); }
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© Ø§Ù„Ø¥Ø³Ø·ÙˆØ±ÙŠØ© */
        .wrapper {
            display: flex; justify-content: center; align-items: center;
            height: 100vh; z-index: 10; position: relative;
        }

        .main-card {
            background: var(--glass); backdrop-filter: blur(40px);
            border: 1px solid rgba(212, 175, 55, 0.4);
            border-radius: 50px; padding: 45px; width: 95%; max-width: 550px;
            box-shadow: 0 50px 120px rgba(0,0,0,1); text-align: center;
            border-bottom: 5px solid var(--gold);
        }

        .ayah-zone {
            background: rgba(255, 255, 255, 0.02); border-radius: 30px;
            padding: 35px; margin: 25px 0; min-height: 180px;
            display: flex; align-items: center; justify-content: center;
            font-size: 30px; color: var(--gold); line-height: 1.8;
            border: 1px dashed rgba(212, 175, 55, 0.25);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        /* ØµÙ Ø§Ù„ØªØ­ÙƒÙ… */
        .control-row { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 25px; }
        select {
            background: rgba(255,255,255,0.06); color: white; border: 1px solid var(--gold);
            padding: 14px; border-radius: 15px; flex: 1; outline: none; cursor: pointer;
            font-size: 15px; transition: 0.3s;
        }
        select:hover { background: rgba(212, 175, 55, 0.1); }

        /* Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ø§Ù„Ù†ÙˆØ± */
        .mic-btn {
            width: 100px; height: 100px; border-radius: 50%; border: none;
            background: linear-gradient(135deg, var(--gold), #8a6d1a);
            font-size: 45px; cursor: pointer; transition: 0.5s;
            box-shadow: var(--glow); position: relative;
        }

        .mic-btn.active { background: #ff4757; animation: pulse 1.2s infinite; transform: scale(1.1); }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.8); }
            70% { box-shadow: 0 0 0 30px rgba(255, 71, 87, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0); }
        }

        .visualizer { display: flex; justify-content: center; gap: 8px; height: 45px; margin: 20px 0; }
        .bar { width: 6px; height: 100%; background: var(--gold); border-radius: 10px; opacity: 0.2; transition: 0.2s; }
        .active .bar { animation: dance 0.6s infinite alternate; opacity: 1; filter: brightness(1.3); }
        @keyframes dance { from { height: 10px; } to { height: 45px; } }

        audio { width: 100%; height: 40px; margin-top: 20px; opacity: 0.4; filter: invert(1); }
        .footer-link { color: var(--gold); text-decoration: none; font-size: 14px; margin-top: 25px; display: block; font-weight: bold; opacity: 0.9; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>
<div class="gradient-overlay"></div>
<div id="floaters-layer"></div>

<div class="wrapper">
    <div class="main-card">
        <h1 style="color: var(--gold); margin: 0; font-size: 30px; letter-spacing: 1px;">Ù…ØµØ­Ù Ø§Ù„Ù†ÙˆØ± ğŸ“–</h1>
        <p style="font-size: 13px; opacity: 0.6; margin-bottom: 25px;">Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø¥Ø³Ø·ÙˆØ±ÙŠ - Ù†Ø®Ø¨Ø© Ù‚Ø±Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ</p>

        <div class="control-row">
            <select id="reader" onchange="sync()">
                <option value="lhdan">Ù…Ø­Ù…Ø¯ Ø§Ù„Ù„Ø­ÙŠØ¯Ø§Ù†</option>
                <option value="abkr">Ø¥Ø¯Ø±ÙŠØ³ Ø£Ø¨ÙƒØ±</option>
                <option value="yasser">ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</option>
                <option value="uaiq">Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ</option>
                <option value="salmi">Ù…Ù†ØµÙˆØ± Ø§Ù„Ø³Ø§Ù„Ù…ÙŠ</option>
                <option value="hazza">Ù‡Ø²Ø§Ø¹ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</option>
                <option value="qtm">Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø·Ø§Ù…ÙŠ</option>
                <option value="jleel">Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¬Ù„ÙŠÙ„</option>
                <option value="wadee">ÙˆØ¯ÙŠØ¹ Ø§Ù„ÙŠÙ…Ù†ÙŠ</option>
                <option value="shur">Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø´Ø±ÙŠÙ…</option>
                <option value="sds">Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³</option>
                <option value="hassan">Ø­Ø³Ù† ØµØ§Ù„Ø­</option>
            </select>
            <select id="surah" onchange="loadSurah()"></select>
        </div>

        <div class="ayah-zone" id="ayahText">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ­ÙŠ...</div>

        <div class="visualizer" id="viz">
            <div class="bar" style="animation-delay: 0s"></div>
            <div class="bar" style="animation-delay: 0.1s"></div>
            <div class="bar" style="animation-delay: 0.2s"></div>
            <div class="bar" style="animation-delay: 0.3s"></div>
            <div class="bar" style="animation-delay: 0.4s"></div>
        </div>

        <button class="mic-btn" id="micBtn" onclick="startTasmie()">ğŸ™ï¸</button>
        <div id="status" style="margin-top: 15px; font-weight: bold; letter-spacing: 1px;">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„ØªÙ„Ø§ÙˆØªÙƒ</div>

        <audio id="player" controls></audio>
        
        <a id="tadabor" href="#" target="_blank" class="footer-link">ğŸ“– Ø§Ù„ØªÙØ³ÙŠØ± ÙˆØ§Ù„ØªØ¯Ø¨Ø± Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙˆØ±Ø©</a>
    </div>
</div>

<script>
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    for(let i=0; i<150; i++) stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*2, s: Math.random()*0.5});
    function draw() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "rgba(212, 175, 55, 0.5)";
        stars.forEach(s => {
            ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
            s.y -= s.s; if(s.y < 0) s.y = canvas.height;
        });
        requestAnimationFrame(draw);
    }
    draw();

    const phrases = ["ÙˆÙØ°ÙÙƒÙÙ‘Ø±Ù’ ÙÙØ¥ÙÙ†ÙÙ‘ Ø§Ù„Ø°ÙÙ‘ÙƒÙ’Ø±ÙÙ‰Ù° ØªÙÙ†ÙÙØ¹Ù Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù", "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙÙ…ÙÙ„ÙØ§Ø¦ÙÙƒÙØªÙÙ‡Ù ÙŠÙØµÙÙ„ÙÙ‘ÙˆÙ†Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù†ÙÙ‘Ø¨ÙÙŠÙÙ‘", "ÙˆÙÙƒÙØ°ÙÙ°Ù„ÙÙƒÙ Ø£ÙÙ†Ø²ÙÙ„Ù’Ù†ÙØ§Ù‡Ù Ù‚ÙØ±Ù’Ø¢Ù†Ù‹Ø§ Ø¹ÙØ±ÙØ¨ÙÙŠÙ‹Ù‘Ø§"];
    setInterval(() => {
        const d = document.createElement('div');
        d.className = 'floating-text';
        d.innerText = phrases[Math.floor(Math.random()*phrases.length)];
        d.style.left = Math.random()*70 + 5 + "%";
        document.getElementById('floaters-layer').appendChild(d);
        setTimeout(() => d.remove(), 35000);
    }, 9000);

    let currentIdx = 0;
    let ayahs = [];
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'ar-SA';

    fetch('https://api.alquran.cloud/v1/surah')
        .then(r => r.json()).then(d => {
            const s = document.getElementById('surah');
            d.data.forEach(item => {
                let o = document.createElement('option');
                o.value = item.number; o.text = item.name; s.add(o);
            });
            loadSurah();
        });

    function loadSurah() {
        const n = document.getElementById('surah').value;
        fetch(`https://api.alquran.cloud/v1/surah/${n}/ar.quran-simple`)
            .then(r => r.json()).then(d => {
                ayahs = d.data.ayahs; currentIdx = 0;
                display(); sync();
            });
    }

    function display() { document.getElementById('ayahText').innerText = ayahs[currentIdx].text; }

    function sync() {
        const sNum = document.getElementById('surah').value;
        const r = document.getElementById('reader').value;
        const map = {
            'lhdan': 'https://server8.mp3quran.net/lhdan/',
            'abkr': 'https://server6.mp3quran.net/abkr/',
            'yasser': 'https://server11.mp3quran.net/yasser/',
            'uaiq': 'https://server12.mp3quran.net/maher/',
            'salmi': 'https://server14.mp3quran.net/salmi/',
            'hazza': 'https://server11.mp3quran.net/hazza/',
            'qtm': 'https://server11.mp3quran.net/qtm/',
            'jleel': 'https://server10.mp3quran.net/jleel/',
            'wadee': 'https://server13.mp3quran.net/wadee/',
            'shur': 'https://server7.mp3quran.net/shur/',
            'sds': 'https://server7.mp3quran.net/sds/',
            'hassan': 'https://server13.mp3quran.net/hassan_saleh/'
        };
        document.getElementById('player').src = map[r] + sNum.padStart(3, '0') + ".mp3";
        document.getElementById('tadabor').href = `https://quran.ksu.edu.sa/index.php?l=ar#sr=${sNum}`;
    }

    function startTasmie() { try { recognition.start(); } catch(e) { recognition.stop(); } }

    recognition.onstart = () => {
        document.getElementById('micBtn').classList.add('active');
        document.getElementById('viz').classList.add('active');
        document.getElementById('status').innerText = "ğŸ”´ Ø£Ø³Ù…Ø¹Ùƒ Ø§Ù„Ø¢Ù†ØŒ ØªÙØ¶Ù„ Ø¨Ø§Ù„ØªÙ„Ø§ÙˆØ©...";
    };

    recognition.onresult = (e) => {
        const speech = e.results[0][0].transcript;
        const target = ayahs[currentIdx].text;
        const clean = (t) => t.replace(/[Ø£Ø¥Ø¢]/g, "Ø§").replace(/\s+/g, '').replace(/[Ù‹ÙŒÙÙÙÙÙ‘Ù’]/g, "").replace(/Ø©/g, "Ù‡");

        if(clean(speech).includes(clean(target)) || clean(target).includes(clean(speech))) {
            document.getElementById('status').innerHTML = "<span style='color:#2ecc71'>âœ… ØªÙ„Ø§ÙˆØ© ØµØ­ÙŠØ­Ø©ØŒ Ø£Ø­Ø³Ù†Øª!</span>";
            setTimeout(() => { if(currentIdx < ayahs.length-1) { currentIdx++; display(); } }, 1500);
        } else {
            document.getElementById('status').innerHTML = "<span style='color:#ff4757'>âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©ØŒ Ø¬Ø±Ø¨ Ø«Ø§Ù†ÙŠØ©</span>";
        }
    };

    recognition.onend = () => {
        document.getElementById('micBtn').classList.remove('active');
        document.getElementById('viz').classList.remove('active');
    };
</script>
</body>
</html>





