<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
    <style>
        body { background: #f4f7f4; font-family: 'Segoe UI', Tahoma, sans-serif; text-align: center; padding: 20px; color: #2c3e50; }
        .container { background: white; padding: 35px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 550px; margin: auto; border-top: 6px solid #1a4d1a; }
        h1 { color: #1a4d1a; margin-bottom: 10px; font-size: 28px; }
        .motto { color: #2d5a27; font-weight: bold; margin-bottom: 25px; font-size: 18px; }
        .selection-box { margin-bottom: 15px; text-align: right; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #1a4d1a; }
        select { width: 100%; padding: 12px; font-size: 16px; border-radius: 10px; border: 2px solid #ddd; background: #fff; outline: none; margin-bottom: 15px; box-sizing: border-box; }
        select:focus { border-color: #1a4d1a; }
        .action-area { display: none; margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px; }
        .btn { display: block; padding: 15px; background: #1a4d1a; color: white; text-decoration: none; border-radius: 10px; font-weight: bold; margin-bottom: 20px; cursor: pointer; border: none; width: 100%; font-size: 16px; transition: 0.3s; }
        .btn:hover { opacity: 0.9; }
        .btn-check { background: #2980b9; }
        .btn-voice { background: #2c3e50; }
        .player-box { background: #f0f9f0; padding: 20px; border-radius: 15px; margin-bottom: 20px; }
        audio { width: 100%; }
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„ØµÙˆØªÙŠØ© */
        #voiceGameArea { margin-top: 20px; padding: 20px; border: 2px dashed #1a4d1a; border-radius: 15px; background: #fafafa; }
        #resultText { font-size: 20px; margin-top: 10px; font-weight: bold; }
        #voiceStatus { color: #7f8c8d; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <h1>Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø¬Ø§Ù…Ø¹ ğŸ“–</h1>
    <p class="motto">"ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© - Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ³Ù…ÙŠØ¹ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©"</p>

    <div class="selection-box">
        <label>1. Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø§Ø±Ø¦:</label>
        <select id="readerSelect" onchange="updateContent()">
            <option value="yasser">ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</option>
            <option value="lhdan">Ù…Ø­Ù…Ø¯ Ø§Ù„Ù„Ø­ÙŠØ¯Ø§Ù†</option>
            <option value="afs">Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ</option>
            <option value="basit">Ø¹Ø¨Ø¯ Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯ Ø§Ù„ØµÙ…Ø¯</option>
            <option value="uaiq">Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ</option>
            <option value="s_gmd">Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ</option>
        </select>
    </div>

    <div class="selection-box">
        <label>2. Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©:</label>
        <select id="surahSelect" onchange="updateContent()">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© --</option>
        </select>
    </div>

    <div id="actionArea" class="action-area">
        <div id="playerSection">
            <h2 id="currentInfo"></h2>
            <div class="player-box">
                <p id="playerTitle">ğŸ§ Ø§Ø³ØªÙ…Ø§Ø¹:</p>
                <audio id="mainAudio" controls><source src="" type="audio/mpeg"></audio>
            </div>
        </div>

        <button onclick="toggleGame()" class="btn">ğŸ® Ø§Ø¨Ø¯Ø£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ³Ù…ÙŠØ¹ (Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙˆØª)</button>

        <div id="voiceGameArea" style="display:none;">
            <button id="startRecord" class="btn btn-voice">ğŸ™ï¸ Ø§Ø¶ØºØ· Ø«Ù… Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¢ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰</button>
            <p id="voiceStatus">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹...</p>
            <div id="resultText"></div>
        </div>

        <a id="readLink" href="#" target="_blank" class="btn btn-check">ğŸ“– ÙØªØ­ Ø§Ù„ØªÙØ³ÙŠØ± Ù„Ù„ØªØ£ÙƒØ¯</a>
    </div>
</div>

<script>
    const surahNames = ["Ø§Ù„ÙØ§ØªØ­Ø©", "Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", "Ø§Ù„Ù†Ø³Ø§Ø¡", "Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©", "Ø§Ù„Ø£Ù†Ø¹Ø§Ù…", "Ø§Ù„Ø£Ø¹Ø±Ø§Ù", "Ø§Ù„Ø£Ù†ÙØ§Ù„", "Ø§Ù„ØªÙˆØ¨Ø©", "ÙŠÙˆÙ†Ø³", "Ù‡ÙˆØ¯", "ÙŠÙˆØ³Ù", "Ø§Ù„Ø±Ø¹Ø¯", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø§Ù„Ø­Ø¬Ø±", "Ø§Ù„Ù†Ø­Ù„", "Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡", "Ø§Ù„ÙƒÙ‡Ù", "Ù…Ø±ÙŠÙ…", "Ø·Ù‡", "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡", "Ø§Ù„Ø­Ø¬", "Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†", "Ø§Ù„Ù†ÙˆØ±", "Ø§Ù„ÙØ±Ù‚Ø§Ù†", "Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡", "Ø§Ù„Ù†Ù…Ù„", "Ø§Ù„Ù‚ØµØµ", "Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª", "Ø§Ù„Ø±ÙˆÙ…", "Ù„Ù‚Ù…Ø§Ù†", "Ø§Ù„Ø³Ø¬Ø¯Ø©", "Ø§Ù„Ø£Ø­Ø²Ø§Ø¨", "Ø³Ø¨Ø£", "ÙØ§Ø·Ø±", "ÙŠØ³", "Ø§Ù„ØµØ§ÙØ§Øª", "Øµ", "Ø§Ù„Ø²Ù…Ø±", "ØºØ§ÙØ±", "ÙØµÙ„Øª", "Ø§Ù„Ø´ÙˆØ±Ù‰", "Ø§Ù„Ø²Ø®Ø±Ù", "Ø§Ù„Ø¯Ø®Ø§Ù†", "Ø§Ù„Ø¬Ø§Ø«ÙŠØ©", "Ø§Ù„Ø£Ø­Ù‚Ø§Ù", "Ù…Ø­Ù…Ø¯", "Ø§Ù„ÙØªØ­", "Ø§Ù„Ø­Ø¬Ø±Ø§Øª", "Ù‚", "Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª", "Ø§Ù„Ø·ÙˆØ±", "Ø§Ù„Ù†Ø¬Ù…", "Ø§Ù„Ù‚Ù…Ø±", "Ø§Ù„Ø±Ø­Ù…Ù†", "Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©", "Ø§Ù„Ø­Ø¯ÙŠØ¯", "Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©", "Ø§Ù„Ø­Ø´Ø±", "Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©", "Ø§Ù„ØµÙ", "Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†", "Ø§Ù„ØªØºØ§Ø¨Ù†", "Ø§Ù„Ø·Ù„Ø§Ù‚", "Ø§Ù„ØªØ­Ø±ÙŠÙ…", "Ø§Ù„Ù…Ù„Ùƒ", "Ø§Ù„Ù‚Ù„Ù…", "Ø§Ù„Ø­Ø§Ù‚Ø©", "Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬", "Ù†ÙˆØ­", "Ø§Ù„Ø¬Ù†", "Ø§Ù„Ù…Ø²Ù…Ù„", "Ø§Ù„Ù…Ø¯Ø«Ø±", "Ø§Ù„Ù‚ÙŠØ§Ù…Ø©", "Ø§Ù„Ø¥Ù†Ø³Ø§Ù†", "Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª", "Ø§Ù„Ù†Ø¨Ø£", "Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª", "Ø¹Ø¨Ø³", "Ø§Ù„ØªÙƒÙˆÙŠØ±", "Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±", "Ø§Ù„Ù…Ø·ÙÙÙŠÙ†", "Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚", "Ø§Ù„Ø¨Ø±ÙˆØ¬", "Ø§Ù„Ø·Ø§Ø±Ù‚", "Ø§Ù„Ø£Ø¹Ù„Ù‰", "Ø§Ù„ØºØ§Ø´ÙŠØ©", "Ø§Ù„ÙØ¬Ø±", "Ø§Ù„Ø¨Ù„Ø¯", "Ø§Ù„Ø´Ù…Ø³", "Ø§Ù„Ù„ÙŠÙ„", "Ø§Ù„Ø¶Ø­Ù‰", "Ø§Ù„Ø´Ø±Ø­", "Ø§Ù„ØªÙŠÙ†", "Ø§Ù„Ø¹Ù„Ù‚", "Ø§Ù„Ù‚Ø¯Ø±", "Ø§Ù„Ø¨ÙŠÙ†Ø©", "Ø§Ù„Ø²Ù„Ø²Ù„Ø©", "Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª", "Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©", "Ø§Ù„ØªÙƒØ§Ø«Ø±", "Ø§Ù„Ø¹ØµØ±", "Ø§Ù„Ù‡Ù…Ø²Ø©", "Ø§Ù„ÙÙŠÙ„", "Ù‚Ø±ÙŠØ´", "Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†", "Ø§Ù„ÙƒÙˆØ«Ø±", "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†", "Ø§Ù„Ù†ØµØ±", "Ø§Ù„Ù…Ø³Ø¯", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", "Ø§Ù„ÙÙ„Ù‚", "Ø§Ù„Ù†Ø§Ø³"];
    
    // ÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ© Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ø£ÙˆÙ„ Ø¢ÙŠØ©
    const correctKeywords = { 
        "1": ["Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", "Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†"], 
        "2": ["Ø§Ù„Ù…", "Ø°Ø§Ù„Ùƒ Ø§Ù„ÙƒØªØ§Ø¨"], 
        "3": ["Ø§Ù„Ù…", "Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø§Ù„Ù‡"], 
        "4": ["ÙŠØ§ Ø§ÙŠÙ‡Ø§ Ø§Ù„Ù†Ø§Ø³", "Ø§ØªÙ‚ÙˆØ§ Ø±Ø¨ÙƒÙ…"] 
    };

    const sSelect = document.getElementById('surahSelect');
    const rSelect = document.getElementById('readerSelect');

    surahNames.forEach((name, index) => {
        let opt = document.createElement('option');
        opt.value = index + 1;
        opt.innerHTML = (index + 1) + ". " + name;
        sSelect.appendChild(opt);
    });

    function updateContent() {
        const sVal = sSelect.value;
        const rVal = rSelect.value;
        const area = document.getElementById('actionArea');
        const audio = document.getElementById('mainAudio');
        
        if(sVal) {
            area.style.display = 'block';
            let audioId = sVal.padStart(3, '0');
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø±Ø§Ø¡ Ø¨Ù…Ø§ ÙÙŠÙ‡Ù… ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ
            const servers = {
                'yasser': 'https://server11.mp3quran.net/yasser/',
                'lhdan': 'https://server8.mp3quran.net/lhdan/',
                'afs': 'https://server8.mp3quran.net/afs/',
                'basit': 'https://server7.mp3quran.net/basit/',
                'uaiq': 'https://server12.mp3quran.net/maher/',
                's_gmd': 'https://server7.mp3quran.net/s_gmd/'
            };

            audio.src = servers[rVal] + audioId + ".mp3";
            document.getElementById('currentInfo').innerText = "Ø³ÙˆØ±Ø© " + surahNames[sVal-1];
        }
    }

    function toggleGame() {
        const pSection = document.getElementById('playerSection');
        const vArea = document.getElementById('voiceGameArea');
        const audio = document.getElementById('mainAudio');

        if (vArea.style.display === 'none') {
            vArea.style.display = 'block';
            pSection.style.display = 'none';
            audio.pause(); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        } else {
            vArea.style.display = 'none';
            pSection.style.display = 'block';
        }
    }

    // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª
    const startBtn = document.getElementById('startRecord');
    const status = document.getElementById('voiceStatus');
    const resultDiv = document.getElementById('resultText');

    if ('webkitSpeechRecognition' in window) {
        const recognition = new webkitSpeechRecognition();
        recognition.lang = 'ar-SA';
        recognition.continuous = false;

        startBtn.onclick = () => {
            recognition.start();
            status.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹... Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¢Ù†";
            startBtn.style.background = "#e74c3c";
            resultDiv.innerText = "";
        };

        recognition.onresult = (event) => {
            const userVoice = event.results[0][0].transcript;
            const sVal = sSelect.value;
            resultDiv.innerText = "Ø³Ù…Ø¹ØªÙƒ ØªÙ‚ÙˆÙ„: " + userVoice;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©
            const keywords = correctKeywords[sVal] || [];
            const isCorrect = keywords.some(word => userVoice.includes(word));

            if (isCorrect) {
                resultDiv.style.color = "green";
                status.innerText = "âœ… Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! Ù‚Ø±Ø§Ø¡Ø© ØµØ­ÙŠØ­Ø©";
            } else {
                resultDiv.style.color = "red";
                status.innerText = "âŒ Ù„Ù… Ø£ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©ØŒ Ø­Ø§ÙˆÙ„ Ø¨ÙˆØ¶ÙˆØ­ Ø£ÙƒØ«Ø±";
            }
            startBtn.style.background = "#2c3e50";
        };

        recognition.onerror = () => {
            status.innerText = "ØªØ¹Ø°Ø± Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†.. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª";
            startBtn.style.background = "#2c3e50";
        };
    } else {
        status.innerText = "Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª (ÙŠÙØ¶Ù„ Chrome)";
    }
</script>

</body>
</html>



